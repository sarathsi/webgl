<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Minimal WebGL Triangle</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body>

<canvas id="c" width="300" height="300"></canvas>

<script>
const gl = c.getContext("webgl");

if (!gl) {
  alert("WebGL not supported");
  console.error("WebGL not supported");
} else {
  alert("WebGL supported");
  console.error("WebGL supported");
}

const vs = gl.createShader(gl.VERTEX_SHADER);
gl.shaderSource(vs, `
  attribute vec2 p;
  void main() {
    gl_Position = vec4(p, 0.0, 1.0);
  }
`);
gl.compileShader(vs);

const fs = gl.createShader(gl.FRAGMENT_SHADER);
gl.shaderSource(fs, `
  precision mediump float;
  void main() {
    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
  }
`);
gl.compileShader(fs);

const prog = gl.createProgram();
gl.attachShader(prog, vs);
gl.attachShader(prog, fs);
gl.linkProgram(prog);
gl.useProgram(prog);

const buf = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, buf);
gl.bufferData(
  gl.ARRAY_BUFFER,
  new Float32Array([
     0.0,  0.8,
    -0.8, -0.8,
     0.8, -0.8
  ]),
  gl.STATIC_DRAW
);

const loc = gl.getAttribLocation(prog, "p");
gl.enableVertexAttribArray(loc);
gl.vertexAttribPointer(loc, 2, gl.FLOAT, false, 0, 0);

gl.clearColor(1, 1, 1, 1);
gl.clear(gl.COLOR_BUFFER_BIT);
gl.drawArrays(gl.TRIANGLES, 0, 3);
</script>

</body>
</html>
